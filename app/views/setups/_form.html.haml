= form_with(model: setup) do |form|
  - if setup.errors.any?
    .alert.alert-danger
      %h4.alert-heading
        %i.fas.fa-exclamation-triangle.me-2
        = pluralize(setup.errors.count, "error")
        prohibited this setup from being saved:
      %ul.mb-0
        - setup.errors.each do |error|
          %li= error.full_message

  .mb-3
    = form.label :name, "Setup Name", class: "form-label"
    = form.text_field :name
  -# .mb-3
  -#   = form.label :shortlisted_instruments, "Shortlisted Instruments", class: "form-label"
  -#   = form.text_area :shortlisted_instruments, class: "form-control", rows: 3, placeholder: "Leave blank for all instruments or enter specific instrument codes"
  -#   %small.form-text.text-muted Optional: Comma-separated list of instrument codes

  .mb-3
    .form-check.form-switch
      = form.check_box :active, class: "form-check-input", role: "switch"
      = form.label :active, "Active", class: "form-check-label"
      %br
      %small.form-text.text-muted Enable or disable this trading setup

  .mb-3
    = form.label :trades_per_day, class: "form-label"
    = form.number_field :trades_per_day, class: "form-control", min: 0, placeholder: "Maximum trades per day"
    %small.form-text.text-muted Maximum number of trades to execute per day for this setup

  .mb-3
    = form.label :rules, "Rules", class: "form-label"
    = form.text_area :rules, class: "form-control font-monospace", rows: 5, placeholder: "Enter formula for rule evaluation"

  %div
    = form.submit class: "btn btn-primary"
    = link_to "Cancel", setup.persisted? ? setup_path(setup) : setups_path, class: "btn btn-secondary ms-2"
